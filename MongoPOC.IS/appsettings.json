{
	"title": "MongoDB POC Identity Server",
	"description": "Sample .NET 5 Identity Server back-end.",
	"company": "asm",
	"email": "asm2025@outlook.com",
	"website": "https://github.com/asm2025/",
	"allowedClients": [
		"https://localhost:44300",
		"http://localhost:5000",
		"https://localhost:44301",
		"http://localhost:5001",
		"https://localhost:4200",
		"http://localhost:4200"
	],
	"useSSL": true,
	"basePath": "/",
	"data": {
		"Host": "localhost",
		"Port": 27017,
		"Database": "MongoPOC"
	},
	"IdentityServer": {
		"authority": "https://localhost:44300",
		"timeout": 20,
		"refreshInterval": 720,
		"apiResources": [
			{
				"name": "api",
				"displayName": "MongoDB POC Identity Server",
				"scopes": [
					{
						"name": "api"
					},
					{
						"name": "api_interactive"
					}
				]
			}
		],
		"identityResources": [
			{
				"name": "openid",
				"displayName": "Open ID",
				"required": true,
				"userClaims": [ "sub" ]
			},
			{
				"name": "profile",
				"displayName": "User Profile",
				"description": "User profile information",
				"emphasize": true,
				"userClaims": [
					"username",
					"name",
					"first_name",
					"last_name",
					"gender",
					"birth_date",
					"city",
					"country",
					"updated_on"
				]
			}
		],
		"apiScopes": [
			{
				"name": "api"
			},
			{
				"name": "interactive"
			}
		],
		"clients": [
			{
				// m2m client credentials flow client
				"clientId": "m2m.client",
				"clientName": "Credentials Client",
				// 511536EF-F270-4058-80CA-1C89C192F69A
				"clientSecrets": [ { "value": "7D4EDF45BFA0E987659E2B92AAF88E2D636475AD4CFCCB8FB47EB3348F629C5F" } ],
				"requireClientSecret": false,
				"allowedGrantTypes": [ "client_credentials" ],
				"allowedScopes": [ "api" ]
			},
			{
				// interactive client using code flow + pkce
				"clientId": "interactive",
				"clientName": "Credentials Interactive Client",
				// 49C1A7E1-0C79-4A89-A3D6-A37998FB86B0
				"clientSecrets": [ { "value": "A3DD086C20025CA524BA75E86B5F1C38370B2A74136E33A8E62844C3D8F9F3EF" } ],
				"requireClientSecret": false,
				"allowedGrantTypes": [ "client_credentials", "code", "hybrid" ],
				"redirectUris": [ "https://localhost:44300/signin-oidc" ],
				"frontChannelLogoutUri": "https://localhost:44300/signout-oidc",
				"postLogoutRedirectUris": [ "https://localhost:44300/signout-callback-oidc" ],
				"allowOfflineAccess": true,
				"allowedScopes": [ "openid", "profile", "api", "interactive" ]
			}
		]
	},
	"LoggingEnabled": true,
	"Logging": {
		"LogLevel": {
			"Default": "Information",
			"Microsoft": "Warning",
			"Microsoft.Hosting.Lifetime": "Information",
			"Microsoft.AspNetCore.Authorization": "Information"
		}
	},
	"serilog": {
		"Using": [
			"Serilog.Sinks.Console",
			"Serilog.Sinks.File"
		],
		"Properties": {
			"Application": "MongoPOC Identity Server"
		},
		"MinimumLevel": "Warning",
		"Override": {
			"Microsoft": "Warning",
			"System": "Warning",
			"Microsoft.Hosting.Lifetime": "Information",
			"Microsoft.AspNetCore.Authorization": "Information"
		},
		"WriteTo": [
			{
				"Name": "Console"
			},
			{
				"Name": "File",
				"Args": {
					"path": "logs\\MongoPOC.IS_.log",
					"fileSizeLimitBytes": 2147483647,
					"rollingInterval": "Day",
					"rollOnFileSizeLimit": true,
					"shared": "true",
					"outputTemplate": "{Timestamp:HH:mm:ss.fff} [{Level:u3}] {Message:lj}{NewLine}{Exception}    {Properties:j}{NewLine}",
					"formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact",
					"flushToDiskInterval": "00:00:01"
				}
			}
		],
		"Enrich": [
			"FromLogContext",
			"WithMachineName",
			"WithUserName",
			"WithHttpRequestClientHostIP",
			"WithHttpRequestClientHostName",
			"WithHttpRequestRawUrl",
			"WithHttpRequestUserAgent"
		]
	}
}
